<!DOCTYPE html>
<html lang="en">

<!-- Mirrored from azim.commonsupport.com/Kidko/teachers.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 17 Oct 2024 00:47:11 GMT -->

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">

    <title>Rotary Polio Competition</title>

    <!-- Stylesheets -->
    <link href="css/style.css" rel="stylesheet">
    <link href="css/responsive.css" rel="stylesheet">
    <link rel="icon" href="images/favicon.ico" type="image/x-icon">

</head>

<!-- page wrapper -->

<body class="boxed_wrapper">


    <!-- .preloader -->
    <div class="preloader"></div>
    <!-- /.preloader -->

    <div class="loader" id="loginLoader"></div>

    <div class="fixed-dialog">
        <h5>Please take note, each vote costs 500 Naira.</h2>
            <p>Fill in the following fields and proceed to the next page in voting.</p>
            <input id="voter_name" type="text" placeholder="Enter your name">
            <input id="voter_email" type="email" placeholder="Enter your email">
            <input id="voter_votes" type="number" placeholder="Input how many vote">
            <button class="submit-btn">Proceed</button>
            <button class="cancel-btn">Cancel</button>
    </div>

    <div class="fixed-dialog-account">
        <h5>Payment Details</h5>
        <p>Kindly transfer the required amount to the account below and upload the receipt.</p>
        <div class="account-details">
            <h4>Account Details</h6>
                <p class="amount"></p>
                <p><b>Account Name:</b> Rotary club of Port Harcourt Cosmopolitan </p>
                <p><b>Account Number:</b> FCMB A/C 8087438012</p>
                <p><b>Bank Name:</b> FCMB</p>
        </div>
        <input id="receipt" type="file" placeholder="Upload Receipt">
        <button class="submit-btn-account">Proceed</button>
        <button class="cancel-btn-account">Cancel</button>
    </div>


    <!-- search-box-layout -->
    <div class="wraper_flyout_search">
        <div class="table">
            <div class="table-cell">
                <div class="flyout-search-layer"></div>
                <div class="flyout-search-layer"></div>
                <div class="flyout-search-layer"></div>
                <div class="flyout-search-close">
                    <span class="flyout-search-close-line"></span>
                    <span class="flyout-search-close-line"></span>
                </div>
                <div class="flyout_search">
                    <div class="flyout-search-title">
                        <h4>Search</h4>
                    </div>
                    <div class="flyout-search-bar">
                        <form role="search" method="get" action="#">
                            <div class="form-row">
                                <input type="search" placeholder="Type to search..." value="" name="s" required="">
                                <button type="submit"><i class="fa fa-search"></i></button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- search-box-layout end -->


    <!-- Main Header -->
    <header class="main-header">

        <div class="header-top">
            <div class="container">
                <div class="inner-container clearfix">

                    <div class="header-info pull-right">
                        <ul class="info-list">
                            <li>
                                <i class="fas fa-phone"></i>
                                <a href="tel:0803 338 7308">0803 338 7308</a>
                            </li>
                            <li>
                                <i class="fas fa-envelope"></i>
                                <a href="rotaryphcosmo@gmail.com">rotaryphcosmo@gmail.com</a>
                            </li>
                            <li>
                                <i class="fa fa-user-plus"></i>
                                <a href="enter-competition.html">Enter Competition</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <div class="header-bottom">
            <div class="container">
                <div class="clearfix">
                    <div class="logo-box pull-left">
                        <figure class="logo"><a href="index-2.html"><img src="images/logo.png" alt=""></a></figure>
                    </div>
                    <div class="nav-outer pull-right clearfix">
                        <div class="menu-area">
                            <nav class="main-menu navbar-expand-lg">
                                <div class="navbar-header">
                                    <!-- Toggle Button -->
                                    <button type="button" class="navbar-toggle" data-toggle="collapse"
                                        data-target=".navbar-collapse">
                                        <span class="icon-bar"></span>
                                        <span class="icon-bar"></span>
                                        <span class="icon-bar"></span>
                                    </button>
                                </div>
                                <div class="navbar-collapse collapse clearfix">
                                    <ul class="navigation clearfix">
                                        <li class=""><a href="index.html">Home</a>

                                        </li>
                                        <li class=""><a href="enter-competition.html">Enter Competition</a>

                                        </li>

                                        <li class="current "><a href="vote.html">Vote</a>

                                        </li>

                                        <li><a href="contact.html">Contact</a></li>
                                    </ul>
                                </div>
                            </nav>
                        </div>

                    </div>
                </div>
            </div>
        </div>

        <!--Sticky Header-->
        <div class="sticky-header">
            <div class="container clearfix">
                <figure class="logo-box"><a href="index-2.html"><img src="images/small-logo.png" alt=""></a></figure>
                <div class="menu-area">
                    <nav class="main-menu navbar-expand-lg">
                        <div class="navbar-header">
                            <!-- Toggle Button -->
                            <button type="button" class="navbar-toggle" data-toggle="collapse"
                                data-target=".navbar-collapse">
                                <span class="icon-bar"></span>
                                <span class="icon-bar"></span>
                                <span class="icon-bar"></span>
                            </button>
                        </div>
                        <div class="navbar-collapse collapse clearfix">
                            <ul class="navigation clearfix">
                                <li class=""><a href="#">Home</a>

                                </li>
                                <li class=""><a href="enter-competition.html">Enter Competition</a>

                                </li>

                                <li class="current "><a href="#">Vote</a>

                                </li>

                                <li><a href="contact.html">Contact</a></li>
                            </ul>
                        </div>
                    </nav>
                </div>
            </div>
        </div><!-- sticky-header end -->
    </header>
    <!-- End Main Header -->


    <!--Page Title-->
    <section class="page-title centred" style="background-image: url(images/gallery/vote_bg.jpeg);">
        <div class="container">
            <div class="content-box">
                <h1>The Children</h1>
                <ul class="bread-crumb clearfix">
                    <li><a href="index-2.html">Home</a></li>
                    <li>Vote</li>
                </ul>
            </div>
        </div>
    </section>
    <!--End Page Title-->


    <!-- our-teachers -->
    <section class="classes-section sec-pad">
        <div class="anim-icon">
            <div class="icon icon-1 float-bob-x"></div>
        </div>
        <div class="container">
            <div class="sec-title centred">
                <h5>Vote</h5>
                <h1>Each vote attracts a some of 500 Naira</h1>
            </div>
            <!-- <div class="row">
                <div class="col-lg-4 col-md-6 col-sm-12 block-column">
                    <div class="inner-block wow fadeInUp" data-wow-delay="0ms" data-wow-duration="1500ms">
                        <figure class="image-box" style="height: 250px; overflow: hidden;">
                            <a>
                                <img src="images/gallery/Beautiful baby.jpeg" alt=""
                                    style="width: 100%; height: 100%; object-fit: cover;">
                            </a>
                        </figure>
                        <div class="lower-content">
                            <div class="link-btn vote"><a><i class="flaticon">Vote</i></a></div>
                            <h3><a>Treasure oghene ovo</a></h3>
                            <div class="price">8 months</div>
                            <ul class="info-box">
                              <li>Age: <span>2 Years</span></li> 
                                <li>Votes: <span>12</span></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6 col-sm-12 block-column">
                    <div class="inner-block wow fadeInUp" data-wow-delay="0ms" data-wow-duration="1500ms">
                        <figure class="image-box" style="height: 250px; overflow: hidden;">
                            <a>
                                <img src="images/gallery/download.jpeg" alt=""
                                    style="width: 100%; height: 100%; object-fit: cover;">
                            </a>
                        </figure>
                        <div class="lower-content">
                            <div class="link-btn vote"><a><i class="flaticon">Vote</i></a></div>
                            <h3><a>Anita udeme </a></h3>
                            <div class="price"> 6 months</div>
                            <ul class="info-box">
                                <li>Age: <span>2 Years</span></li> 
                                <li>Votes: <span>12</span></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6 col-sm-12 block-column">
                    <div class="inner-block wow fadeInUp" data-wow-delay="0ms" data-wow-duration="1500ms">
                        <figure class="image-box" style="height: 250px; overflow: hidden;">
                            <a>
                                <img src="images/gallery/Vrijwilligerswerk Afrika!!! A big dream_) (1).jpeg" alt=""
                                    style="width: 100%; height: 100%; object-fit: cover;">
                            </a>
                        </figure>
                        <div class="lower-content">
                            <div class="link-btn vote"><a><i class="flaticon">Vote</i></a></div>
                            <h3><a>Patience goodnews</a></h3>
                            <div class="price">14 months</div>
                            <ul class="info-box">
                               <li>Age: <span>2 Years</span></li> 
                                <li>Votes: <span>78</span></li>
                            </ul>
                        </div>
                    </div>
                </div>

            </div> -->
            <div id="card-container" class="row">
                <!-- Cards will be injected here by JavaScript -->
            </div>
        </div>
    </section>

    </section>

    <footer class="main-footer">
        <div class="footer-top">
            <div class="parallax-scene parallax-scene-2 parallax-icon">
                <span data-depth="0.40" class="parallax-layer icon icon-1"></span>
                <span data-depth="0.50" class="parallax-layer icon icon-2"></span>
                <span data-depth="0.30" class="parallax-layer icon icon-3"></span>
                <span data-depth="0.40" class="parallax-layer icon icon-4"></span>
                <span data-depth="0.50" class="parallax-layer icon icon-5"></span>
                <span data-depth="0.30" class="parallax-layer icon icon-6"></span>
                <span data-depth="0.40" class="parallax-layer icon icon-7"></span>
            </div>
            <div class="container">
                <div class="widget-section">
                    <div class="row">
                        <div class="col-lg-3 col-md-6 col-sm-12 footer-column">
                            <div class="about-widget footer-widget">
                                <h3 class="widget-title">About this competition</h3>
                                <div class="widget-content">
                                    <div class="text">
                                        <p>Through fun and interactive activities, we aim to inspire the next generation
                                            to become advocates for health and wellness in their communities.
                                        </p>
                                        <p> Our club is committed to making a positive impact, fostering leadership
                                            skills, and promoting awareness about this preventable disease.
                                        </p>

                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-6 col-sm-12 footer-column">
                            <div class="link-widget footer-widget">
                                <h3 class="widget-title">Useful Link</h3>
                                <div class="widget-content">
                                    <ul>
                                        <li><a href="#">About us</a></li>

                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-6 col-sm-12 footer-column">
                            <div class="contact-widget footer-widget">
                                <h3 class="widget-title">Get in Touch</h3>
                                <div class="widget-content">
                                    <div class="text">Reach out to us through any of the following means.</div>
                                    <ul class="info-list">
                                        <li><i class="fas fa-home"></i>Rotary club of Port Harcourt Cosmopolitan
                                            Farrah CoffeeÂ Lounge 37 Aba road, Port Harcourt
                                        </li>
                                        <li><i class="fas fa-phone"></i><a href="tel:0803 338 7308">0803 338 7308</a>
                                        </li>
                                        <!-- <li><i class="fas fa-envelope"></i><a
                                            href="mailto:info@example.com">info@example.com</a></li> -->
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <!--    -->
                    </div>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <div class="container">
                <div class="inner-container clearfix">
                    <div class="left-content pull-left">
                        <div class="copyright">Copyright &copy; 2024. All Rights Reserved
                        </div>
                    </div>
                    <div class="right-content pull-right">
                        <figure class="footer-logo"><a href="index.html"><img src="images/logo.png" alt=""></a>
                        </figure>

                    </div>
                </div>
            </div>
        </div>
    </footer>
    <!-- main-footer end -->


    <!--Scroll to top-->
    <button class="scroll-top scroll-to-target" data-target="html">
        <i class="fa fa-arrow-up"></i>
    </button>



    <!-- jequery plugins -->
    <script src="js/jquery.js"></script>
    <script src="js/popper.min.js"></script>
    <script src="js/bootstrap.min.js"></script>

    <script src="js/owl.js"></script>
    <script src="js/wow.js"></script>
    <script src="js/validation.js"></script>
    <script src="js/jquery.fancybox.js"></script>
    <script src="js/appear.js"></script>
    <script src="js/parallax.min.js"></script>
    <script src="js/isotope.js"></script>
    <script src="https://smtpjs.com/v3/smtp.js"></script>
    <!-- map script -->
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA-CE0deH3Jhj6GN4YvdCFZS7DpbXexzGU"></script>
    <script src="js/gmaps.js"></script>
    <script src="js/map-helper.js"></script>

    <!-- main-js -->
    <!-- <script src="js/script.js"></script> -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

    <script>
        function showLoader() {
            document.getElementById("loginLoader").classList.add("active");
        }

        function hideLoader() {
            document.getElementById("loginLoader").classList.remove("active");
        }

        // Example function to fetch data from a mock API or static JSON file
        async function fetchData() {
            try {
                // Replace this URL with the actual URL where you are fetching the data from
                const response = await fetch('https://rotary-server-siq2.onrender.com/auth/babies');
                const data = await response.json();
                console.log(data.message)
                displayCards(data.message);
                const vote_btns = document.querySelectorAll(".vote")

                const vote_dialog = document.querySelector(".fixed-dialog")
                const voter_name = document.querySelector("#voter_name")
                const voter_email = document.querySelector("#voter_email")
                const voter_votes = document.querySelector("#voter_votes")
                const vote_dialog_proceed = document.querySelector(".submit-btn")
                const vote_dialog_cancel = document.querySelector(".cancel-btn")

                const account_dialog = document.querySelector(".fixed-dialog-account")
                const account_cancel_button = document.querySelector(".cancel-btn-account")
                const account_submit_button = document.querySelector(".submit-btn-account")
                const receipt_input = document.querySelector("#receipt")
                const amount_topay = document.querySelector(".amount")

                var baby_id;

                vote_btns.forEach(button => {
                    button.addEventListener('click', (e) => {
                        console.log(e.target.dataset.itemId)
                        baby_id = e.target.dataset.itemId
                        vote_dialog.style.display = "block"
                        vote_dialog_proceed.addEventListener('click', () => {
                            if (voter_name.value.trim() === "" || voter_email.value.trim() === "" || voter_votes.value.trim() === "") {
                                return Swal.fire({
                                    title: "Error",
                                    text: 'Input fields cannot be left blank',
                                    icon: "error"
                                });
                            } else {
                                localStorage.setItem('voter_name', voter_name.value);
                                localStorage.setItem('voter_email', voter_email.value);
                                localStorage.setItem('voter_votes', voter_votes.value);
                                vote_dialog.style.display = "none";
                                amount_topay.innerHTML = "<b>Amount to pay:</b> " + (localStorage.getItem('voter_votes') * 500).toString() + " Naira"
                                account_dialog.style.display = "block"
                                account_submit_button.addEventListener('click', () => {
                                    if (receipt_input.files.length === 0) {
                                        return Swal.fire({
                                            title: "Error",
                                            text: 'Please upload a receipt',
                                            icon: "error"
                                        });
                                    } else {

                                        const formData1 = new FormData();
                                        formData1.append('file', receipt_input.files[0]);
                                        formData1.append('upload_preset', 'poliocontest');

                                        axios.post('https://api.cloudinary.com/v1_1/daf6mdwkh/auto/upload', formData1)
                                            .then(response1 => {
                                                const receipt = response1.data.url;
                                                console.log(response1.data.url)
                                                showLoader()
                                                // const emailData = {
                                                //     to: 'amirizew@gmail.com',
                                                //     subject: 'Receipt Uploaded',
                                                //     text: receipt + " " + localStorage.getItem("voter_name") + " " + localStorage.getItem("voter_email"),
                                                // };

                                                // Email.send({
                                                //     SecureToken: "48128762-11c1-446f-8c3a-d1d2f7badcd2",
                                                //     To: 'amirizew@gmail.com',
                                                //     From: "amweb.ng@gmail.com",
                                                //     Subject: "Receipt Uploaded",
                                                //     Body: receipt + " " + localStorage.getItem("voter_name") + " " + localStorage.getItem("voter_email")
                                                // }).then(
                                                //     message => console.log(message)
                                                // );
                                                Email.send({
                                                    Host: "smtp.elasticemail.com",
                                                    Username: "amweb.ng@gmail.com",
                                                    Password: "Golda909%%",
                                                    To: 'amirizew@gmail.com',
                                                    From: "amweb.ng@gmail.com",
                                                    Subject: "Receipt Uploaded",
                                                    Body: receipt + " " + localStorage.getItem("voter_name") + " " + localStorage.getItem("voter_email")
                                                }).then(
                                                    message => alert(message)
                                                );

                                                // axios.post('https://rotary-server-siq2.onrender.com/auth/send-mail', emailData)
                                                //     .then(response => {
                                                //         console.log(response)

                                                //         if (response.data['error'] === true) {
                                                //             hideLoader()
                                                //             Swal.fire({
                                                //                 title: "Error",
                                                //                 text: response.data['message'],
                                                //                 icon: "error"
                                                //             });
                                                //         } else {
                                                //             hideLoader()
                                                //             Swal.fire({
                                                //                 title: "Success",
                                                //                 text: "Uploaded successfully",
                                                //                 icon: "success"
                                                //             });
                                                //             setTimeout(() => {
                                                //                 window.location.href = "/vote.html"
                                                //             }, 2000);

                                                //         }
                                                //     })
                                                //     .catch(error => {
                                                //         hideLoader()
                                                //         Swal.fire({
                                                //             title: "Error",
                                                //             text: error,
                                                //             icon: "error"
                                                //         });
                                                //     })
                                                //     .finally(() => {
                                                //         // Hide the loader when the request is complete (success or failure)
                                                //         hideLoader()
                                                //     });
                                            })


                                        Swal.fire({
                                            title: "Success",
                                            text: 'Receipt uploaded, you will receive a confirmation mail',
                                            icon: "success"
                                        });
                                        account_dialog.style.display = "none";
                                    }
                                })
                            }
                        });

                    });
                });



                vote_dialog_cancel.addEventListener('click', () => {
                    vote_dialog.style.display = "none"
                })

                account_cancel_button.addEventListener('click', () => {
                    account_dialog.style.display = "none"
                })


            } catch (error) {
                console.error('Error fetching data:', error);
            }
        }

        // Function to display the cards dynamically
        function displayCards(data) {
            const container = document.getElementById('card-container'); // Assuming there's a container div with id 'card-container'

            data.forEach(item => {
                // Create the card HTML structure
                const cardHTML = `
              <div  style="margin-bottom:15px" class="col-lg-4 col-md-6 col-sm-12 block-column ">
                <div class="inner-block wow fadeInUp" data-wow-delay="0ms" data-wow-duration="1500ms">
                   
                  <figure class="image-box" style="height: 250px; overflow: hidden;">
                    <a>
                      <img src="${item.babyPicture}" alt="${item.name}" style="width: 100%; height: 100%; object-fit: cover;">
                    </a>
                  </figure>
                  <div class="lower-content">
                    <div  class="link-btn vote">
                        <a data-item-id="${item._id}>
                            <i class="flaticon">Vote</i>
                            </a>
                </div>
                    <h3><a>${item.name}</a></h3>
                    <div class="price">${item.age} months</div>
                    <ul class="info-box">
                      <li>Votes: <span>${item.votes}</span></li>
                    </ul>
                  </div>
                </div>
              </div>
            `;

                // Append the card to the container
                container.innerHTML += cardHTML;
            });

        }


        // Call the fetchData function when the window loads
        window.onload = fetchData;
    </script>
    <script src="/script/vote.js"></script>



</body><!-- End of .page_wrapper -->

<!-- Mirrored from azim.commonsupport.com/Kidko/teachers.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 17 Oct 2024 00:47:12 GMT -->

</html>